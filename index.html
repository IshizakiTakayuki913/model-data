<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>sample</title>
    
    <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
    <script src="https://cdn.8thwall.com/web/aframe/aframe-extras-6.1.1.min.js"></script>

    <script src="./solve.js"></script>
    <script src="./solve2.js"></script>
    <script src="./camera.js"></script>
    <link rel="stylesheet" href="./style.css">
  </head>

  <script type="text/javascript">
    AFRAME.registerComponent('press-key-board', presskeyboard())
    AFRAME.registerComponent('camera-view', camera())
    
		setTimeout(() => {
			// color_set(scrambled_state)
      let han = document.getElementById('L-hand')
      // han.setAttribute('material', 'color', COLORS[lastIndex])
      han.object3D.traverse((node) => {
        if (node.isMesh) {
          node.material.transparent = true
          node.material.opacity = 0.7
          node.material.needsUpdate = true
        }
      })
      han = document.getElementById('R-hand')
      han.object3D.traverse((node) => {
        if (node.isMesh) {
          node.material.transparent = true
          node.material.opacity = 0.7
          node.material.needsUpdate = true
        }
      })
      // console.log(moves["x'"])
      AAA()
		}, 2000)

		// setTimeout(() => {
    //   BBB()
		// }, 4000)
  </script>

  <body id="body">
    <a-scene press-key-board camera-view>

<a-assets>
  <a-asset-item id="model_hand" src="https://ishizakitakayuki913.github.io/model-data/sub-hand.glb"></a-asset-item>
</a-assets>

<a-sky color="#4CC3D9"></a-sky>
<a-plane class="clickable"  position="0 0 0" rotation="-90 0 0" color="#55C" height="20" width="20"></a-plane>

<a-entity position="0 6 0" rotation="0 0 0">
  <a-entity
    id="L-hand"
    position="0 0 0"
    rotation="0 -90 0"
    gltf-model="#model_hand"
    Amaterial="opacity:0.1; transparent: true"
    animation-mixer="clip: Idole; loop: repeat"
    scale="2.2 2.2 2.2"
    shadow="receive: false">
  </a-entity>

  <a-entity
    id="R-hand"
    position="0 0 0"
    rotation="0 90 0"
    gltf-model="#model_hand"
    animation-mixer="clip: Idole; loop: repeat"
    scale="-2.2 2.2 2.2"
    shadow="receive: false">
  </a-entity>

  <a-entity id="center" position="0 0 0">
    <a-entity id="center0" position="0 0 0">
      <a-box position="0 0 -1.5" width="0.9" height="0.9" depth="0.01" color="#00f"></a-box>
    </a-entity>
        
    <a-entity id="center1" position="0 0 0">
      <a-box position="1.5 0 0" width="0.01" height="0.9" depth="0.9" color="#f00"></a-box>
    </a-entity>
      
    <a-entity id="center2" position="0 0 0">
      <a-box position="0 0 1.5" width="0.9" height="0.9" depth="0.01" color="#0f0"></a-box>
    </a-entity>
      
    <a-entity id="center3" position="0 0 0">
      <a-box position="-1.5 0 0" width="0.01" height="0.9" depth="0.9" color="#f80"></a-box>
    </a-entity>
      
    <a-entity id="center4" position="0 0 0">
      <a-box position="0 1.5 0" width="0.9" height="0.01" depth="0.9" color="#fff"></a-box>
    </a-entity>
      
    <a-entity id="center5" position="0 0 0">
      <a-box position="0 -1.5 0" width="0.9" height="0.01" depth="0.9" color="#ef0"></a-box>
    </a-entity>

    
    <!-- <a-cylinder id="center0" position="0 0 -1.5" rotation="90 0 0" radius="0.45" height="0.01" color="#00f"></a-cylinder>
    <a-cylinder id="center1" position="1.5 0 0" rotation="0 0 90" radius="0.45" height="0.01" color="#f00"></a-cylinder>
    <a-cylinder id="center2" position="0 0 1.5" rotation="90 0 0" radius="0.45" height="0.01" color="#0f0"></a-cylinder>
    <a-cylinder id="center3" position="-1.5 0 0" rotation="0 0 90" radius="0.45" height="0.01" color="#f80"></a-cylinder>
    <a-cylinder id="center4" position="0 1.5 0" rotation="0 0 0" radius="0.45" height="0.01" color="#fff"></a-cylinder>
    <a-cylinder id="center5" position="0 -1.5 0" rotation="0 0 0" radius="0.45" height="0.01" color="#ef0"></a-cylinder> -->
  </a-entity>

  <a-entity id="edge" position="0 0 0">
    <a-entity id="edge0" quaterinon-rotation position="0 0 0">
      <a-box position="-1 0 -1.5" width="1" height="0.9" depth="0.01" color="#00f"></a-box>
      <a-box position="-1.5 0 -1" width="0.01" height="0.9" depth="1" color="#f80"></a-box>
      <a-box position="-1 0 -1" width="1" height="0.9" depth="1" color="#AAA"></a-box>
    </a-entity>
    
    <a-entity id="edge1" quaterinon-rotation position="0 0 0">
      <a-box position="1 0 -1.5" width="1" height="0.9" depth="0.01" color="#00f"></a-box>
      <a-box position="1.5 0 -1" width="0.01" height="0.9" depth="1" color="#f00"></a-box>
      <a-box position="1 0 -1" width="1" height="0.9" depth="1" color="#AAA"></a-box>
    </a-entity>
    
    <a-entity id="edge2" quaterinon-rotation position="0 0 0">
      <a-box position="1 0 1.5" width="1" height="0.9" depth="0.01" color="#0f0"></a-box>
      <a-box position="1.5 0 1" width="0.01" height="0.9" depth="1" color="#f00"></a-box>
      <a-box position="1 0 1" width="1" height="0.9" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="edge3" quaterinon-rotation position="0 0 0">
      <a-box position="-1 0 1.5" width="1" height="0.9" depth="0.01" color="#0f0"></a-box>
      <a-box position="-1.5 0 1" width="0.01" height="0.9" depth="1" color="#f80"></a-box>
      <a-box position="-1 0 1" width="1" height="0.9" depth="1" color="#AAA"></a-box>
    </a-entity>
    
    <a-entity id="edge4" quaterinon-rotation position="0 0 0">
      <a-box position="0 1.5 -1" width="0.9" height="0.01" depth="1" color="#fff"></a-box>
      <a-box position="0 1 -1.5" width="0.9" height="1" depth="0.01" color="#00f"></a-box>
      <a-box position="0 1 -1" width="0.9" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="edge5" quaterinon-rotation position="0 0 0">
      <a-box position="1 1.5 0" width="1" height="0.01" depth="0.9" color="#fff"></a-box>
      <a-box position="1.5 1 0" width="0.01" height="1" depth="0.9" color="#f00"></a-box>
      <a-box position="1 1 0" width="1" height="1" depth="0.9" color="#AAA"></a-box>
    </a-entity>
    
    <a-entity id="edge6" quaterinon-rotation position="0 0 0">
      <a-box position="0 1.5 1" width="0.9" height="0.01" depth="1" color="#fff"></a-box>
      <a-box position="0 1 1.5" width="0.9" height="1" depth="0.01" color="#0f0"></a-box>
      <a-box position="0 1 1" width="0.9" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="edge7" quaterinon-rotation position="0 0 0">
      <a-box position="-1 1.5 0" width="1" height="0.01" depth="0.9" color="#fff"></a-box>
      <a-box position="-1.5 1 0" width="0.01" height="1" depth="0.9" color="#f80"></a-box>
      <a-box position="-1 1 0" width="1" height="1" depth="0.9" color="#AAA"></a-box>
    </a-entity>
    
    <a-entity id="edge8" quaterinon-rotation position="0 0 0">
      <a-box position="0 -1.5 -1" width="0.9" height="0.01" depth="1" color="#ef0"></a-box>
      <a-box position="0 -1 -1.5" width="0.9" height="1" depth="0.01" color="#00f"></a-box>
      <a-box position="0 -1 -1" width="0.9" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>
    
    <a-entity id="edge9" quaterinon-rotation position="0 0 0">
      <a-box position="1 -1.5 0" width="1" height="0.01" depth="0.9" color="#ef0"></a-box>
      <a-box position="1.5 -1 0" width="0.01" height="1" depth="0.9" color="#f00"></a-box>
      <a-box position="1 -1 0" width="1" height="1" depth="0.9" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="edge10" quaterinon-rotation position="0 0 0">
      <a-box position="0 -1.5 1" width="0.9" height="0.01" depth="1" color="#ef0"></a-box>
      <a-box position="0 -1 1.5" width="0.9" height="1" depth="0.01" color="#0f0"></a-box>
      <a-box position="0 -1 1" width="0.9" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="edge11" quaterinon-rotation position="0 0 0">
      <a-box position="-1 -1.5 0" width="1" height="0.01" depth="0.9" color="#ef0"></a-box>
      <a-box position="-1.5 -1 0" width="0.01" height="1" depth="0.9" color="#f80"></a-box>
      <a-box position="-1 -1 0" width="1" height="1" depth="0.9" color="#AAA"></a-box>
    </a-entity>
  </a-entity>

  <a-entity id="corner" position="0 0 0">
    <a-entity id="corner0" quaterinon-rotation position="0 0 0">
      <a-box position="-1 1.5 -1" width="1" height="0.01" depth="1" color="#fff"></a-box>
      <a-box position="-1.5 1 -1" width="0.01" height="1" depth="1" color="#f80"></a-box>
      <a-box position="-1 1 -1.5" width="1" height="1" depth="0.01" color="#00F"></a-box>
      <a-box position="-1 1 -1" width="1" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="corner1" quaterinon-rotation position="0 0 0">
      <a-box position="1 1.5 -1" width="1" height="0.01" depth="1" color="#fff"></a-box>
      <a-box position="1 1 -1.5" width="1" height="1" depth="0.01" color="#00F"></a-box>
      <a-box position="1.5 1 -1" width="0.01" height="1" depth="1" color="#f00"></a-box>
      <a-box position="1 1 -1" width="1" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="corner2" quaterinon-rotation position="0 0 0">
      <a-box position="1 1.5 1" width="1" height="0.01" depth="1" color="#fff"></a-box>
      <a-box position="1.5 1 1" width="0.01" height="1" depth="1" color="#f00"></a-box>
      <a-box position="1 1 1.5" width="1" height="1" depth="0.01" color="#0f0"></a-box>
      <a-box position="1 1 1" width="1" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="corner3" quaterinon-rotation position="0 0 0">
      <a-box position="-1 1.5 1" width="1" height="0.01" depth="1" color="#fff"></a-box>
      <a-box position="-1 1 1.5" width="1" height="1" depth="0.01" color="#0f0"></a-box>
      <a-box position="-1.5 1 1" width="0.01" height="1" depth="1" color="#f80"></a-box>
      <a-box position="-1 1 1" width="1" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="corner4" quaterinon-rotation position="0 0 0">
      <a-box position="-1 -1.5 -1" width="1" height="0.01" depth="1" color="#ef0"></a-box>
      <a-box position="-1 -1 -1.5" width="1" height="1" depth="0.01" color="#00F"></a-box>
      <a-box position="-1.5 -1 -1" width="0.01" height="1" depth="1" color="#f80"></a-box>
      <a-box position="-1 -1 -1" width="1" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="corner5" quaterinon-rotation position="0 0 0">
      <a-box position="1 -1.5 -1" width="1" height="0.01" depth="1" color="#ef0"></a-box>
      <a-box position="1.5 -1 -1" width="0.01" height="1" depth="1" color="#f00"></a-box>
      <a-box position="1 -1 -1.5" width="1" height="1" depth="0.01" color="#00F"></a-box>
      <a-box position="1 -1 -1" width="1" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="corner6" quaterinon-rotation position="0 0 0">
      <a-box position="1 -1.5 1" width="1" height="0.01" depth="1" color="#ef0"></a-box>
      <a-box position="1 -1 1.5" width="1" height="1" depth="0.01" color="#0f0"></a-box>
      <a-box position="1.5 -1 1" width="0.01" height="1" depth="1" color="#f00"></a-box>
      <a-box position="1 -1 1" width="1" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>

    <a-entity id="corner7" quaterinon-rotation position="0 0 0">
      <a-box position="-1 -1.5 1" width="1" height="0.01" depth="1" color="#ef0"></a-box>
      <a-box position="-1.5 -1 1" width="0.01" height="1" depth="1" color="#f80"></a-box>
      <a-box position="-1 -1 1.5" width="1" height="1" depth="0.01" color="#0f0"></a-box>
      <a-box position="-1 -1 1" width="1" height="1" depth="1" color="#AAA"></a-box>
    </a-entity>
  </a-entity>
</a-entity> 

<a-entity id="camera" position="0 6 0" rotation="0 0 0">
  <a-camera id="camera2" look-controls="enabled: false" wasd-controls-enabled="false" position="0 0 10" rotation="0 0 0">
    <a-entity cursor="rayOrigin: mouse;" raycaster="objects: .clickable" />
  </a-camera>
</a-entity>

    </a-scene>

    <div id="btn1" class="btn"></div>
  </body>
</html>



<!-- AFRAME.registerComponent('cursor-listener', {
  init(){
    var lastIndex = -1
    var COLORS = ['red', 'green', 'blue']
    this.el.addEventListener('click', function (evt) {
      lastIndex = (lastIndex + 1) % COLORS.length
      this.setAttribute('material', 'color', COLORS[lastIndex])
      console.log('I was clicked at: ', evt.detail.intersection)
      let c = 0
      const han = document.getElementById('L-hand')
      han.setAttribute('material', 'color', COLORS[lastIndex])
      // han.object3D.traverse((node) => {
      //   if (node.isMesh) {
      //     node.material.transparent = true
      //     node.material.color = new THREE.Color(`hsl(180, 100%, 50%)`)
      //     node.material.needsUpdate = true
      //   }
      // })
      // han.setAttribute('material', {opacity: opVal});
    })
  }
}) -->
